# 封基按净增轮动 python本地回测
封基净增轮动策略利用的类似与动量策略（追涨杀跌）。

-   **数据**

封基代码采用集思录的封基列表，目前市场共有 72 只封闭基金。

![](https://article-images.zsxq.com/FpoiqB1x1Zo8iFza4A1Yr0iIQZcA)

这里用使用复制粘贴的方式把所有的封基代码复制下来，当然用程序也行。只不过这个只获取一次的数据为了偷懒 ctrl+cv 就可以。

![](https://article-images.zsxq.com/FoB-lzIcdKjknhp-N2DZ_rhOtbci)

为了程序方便读取，保存为 json 格式好了。此文件以及本文全部代码会在附件里面提供。

### 获取封基净值与日增数据

利用 akshare 这个库可以很方便的获取到封基的每日净值与日增长数据。

```
    def get\_net\_value(self,code):
        '''
        获取基金的净值
        '''
        fund\_open\_fund\_info\_em\_df = ak.fund\_open\_fund\_info\_em(fund=code, indicator="单位净值走势")
        return fund\_open\_fund\_info\_em\_df

```

把上面 72 只封基代码循环地传入上面这个 get_net_value 函数就可以得到所有的数据了。

获取所有数据，大概 1 分钟左右。为了避免每次获取，可以选择存储到本地数据库或者 excel 文件，下次从本地获取数据就快很多了。

![](https://article-images.zsxq.com/FkU1XA9dLZnmcaGSmU-Pd2HVse4v)

-   **策略**

接下来就是按照策略回测了。

按照封基的净值 10 天累计增长排名，取排名最大的 10 只，买入。等到下一个周期 10 天后，重新把市场的封基按照过去 10 天累计净值增长排名，卖出持仓里面增长排名 10 名之后的，买入净增排名 10 名之内的封基。

![](https://article-images.zsxq.com/FiU2X-4CNE_bqSALSxpV8vFEaVR2)

设定的开始时间是 2018-01-01 日，到 2022-03-04，最后收益率为 118.84%，最大回撤为 16.71%

策略运行时间 4.17 年，折算年化收益率为 20.54%

-   **超额收益**

我们计算这 72 只封基从 2018-01-01 日到现在的的年化收益率，然后算出其中位数和平均数。因为 72 只封基里面一些封基发行时间要晚于 2018-01-01，如果比较其累计收益率，那么会对发行时间晚的封基不公平，所以采用年化收益率来比较。

最后得到：

72 只封基的年化收益率中位数： 13.15%

72 只封基的年化收益率平均： 12.59%

（就当作猴子扔飞镖的封基年化收益率）

采用净增轮动相比整体的中位数和平均数年化收益率要高 7-8 个点。

本文作为抛砖引玉，简单使用随意周期（10 天）净增作为轮动条件，其实应该也可以把股票指标应用到封基净值上，比如乖离率等，目的也是选出当前最强封基，追随其上涨趋势，不断切换强基。有兴趣的星友可以更改指标回测，并分享结果。 
 [https://articles.zsxq.com/id_8cm8plmpqh03.html](https://articles.zsxq.com/id_8cm8plmpqh03.html)
